{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://gtek-ecosystem.com/schemas/secrets-variables.json",
  "title": "gTek Integrated Ecosystem Secrets and Variables Configuration",
  "description": "Iron Rule Framework compliant automation for GitHub Actions secrets and variables",
  "version": "1.0.0",
  "metadata": {
    "project": "gTek Integrated Ecosystem",
    "owner": "Jerome Elston Hill Jr.",
    "entity": "Home Made Productions",
    "codex_sovereign_id": "DIV-LA-JHILL-STFL02035",
    "iron_rule": "Commission or charitable donation only",
    "ancient_wisdom": "Saqqara-Giza protocols",
    "rhodium_backed": true
  },
  "type": "object",
  "required": ["secrets", "variables", "automation"],
  "properties": {
    "secrets": {
      "type": "object",
      "description": "Repository secrets organized by category",
      "properties": {
        "docker": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/secret"
          }
        },
        "deployment": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/secret"
          }
        },
        "iron_rule": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/secret"
          }
        },
        "ai_samsung": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/secret"
          }
        },
        "infrastructure": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/secret"
          }
        },
        "monitoring": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/secret"
          }
        }
      }
    },
    "variables": {
      "type": "object",
      "description": "Repository variables organized by category",
      "properties": {
        "project": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/variable"
          }
        },
        "environment": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/variable"
          }
        },
        "iron_rule_framework": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/variable"
          }
        },
        "ancient_wisdom": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/variable"
          }
        },
        "ports": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/variable"
          }
        },
        "samsung_security": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/variable"
          }
        },
        "liquidnomocs": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/variable"
          }
        }
      }
    },
    "automation": {
      "type": "object",
      "description": "Automation rules for secret and variable management",
      "properties": {
        "secret_templates": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/template"
          }
        },
        "validation": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/validation_rule"
          }
        },
        "sync_rules": {
          "type": "object",
          "properties": {
            "development": {
              "$ref": "#/$defs/environment_sync"
            },
            "staging": {
              "$ref": "#/$defs/environment_sync"
            },
            "production": {
              "$ref": "#/$defs/environment_sync"
            }
          }
        }
      }
    },
    "compliance": {
      "type": "object",
      "description": "Iron Rule Framework and security compliance",
      "properties": {
        "iron_rule_framework": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/compliance_check"
          }
        },
        "security": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/compliance_check"
          }
        }
      }
    },
    "notifications": {
      "type": "object",
      "description": "Notification configuration for automation events",
      "properties": {
        "channels": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/notification_channel"
          }
        },
        "templates": {
          "type": "object",
          "patternProperties": {
            "^[a-z_]+$": {
              "$ref": "#/$defs/notification_template"
            }
          }
        }
      }
    }
  },
  "$defs": {
    "secret": {
      "type": "object",
      "required": ["name", "description", "required", "scope"],
      "properties": {
        "name": {
          "type": "string",
          "pattern": "^[A-Z_][A-Z0-9_]*$",
          "description": "Secret name in UPPER_SNAKE_CASE"
        },
        "description": {
          "type": "string",
          "description": "Human-readable description of the secret"
        },
        "required": {
          "type": "boolean",
          "description": "Whether this secret is required for operation"
        },
        "scope": {
          "type": "string",
          "enum": ["repository", "organization", "environment"],
          "description": "Scope of the secret"
        },
        "default": {
          "type": "string",
          "description": "Default value if not provided (for non-sensitive secrets)"
        },
        "generate": {
          "type": "string",
          "enum": ["random_256_bit", "uuid_v4", "jwt_style", "secure_random_32"],
          "description": "Auto-generation method for the secret"
        },
        "iron_rule_compliant": {
          "type": "boolean",
          "description": "Whether this secret is Iron Rule Framework compliant"
        },
        "ancient_wisdom": {
          "type": "boolean",
          "description": "Whether this secret involves ancient wisdom protocols"
        },
        "samsung_exclusive": {
          "type": "boolean",
          "description": "Whether this secret is for Samsung Ultra exclusive features"
        }
      }
    },
    "variable": {
      "type": "object",
      "required": ["name", "value", "description"],
      "properties": {
        "name": {
          "type": "string",
          "pattern": "^[A-Z_][A-Z0-9_]*$",
          "description": "Variable name in UPPER_SNAKE_CASE"
        },
        "value": {
          "type": "string",
          "description": "Variable value"
        },
        "description": {
          "type": "string",
          "description": "Human-readable description of the variable"
        },
        "iron_rule_compliant": {
          "type": "boolean",
          "description": "Whether this variable is Iron Rule Framework compliant"
        },
        "ancient_wisdom": {
          "type": "boolean",
          "description": "Whether this variable involves ancient wisdom protocols"
        },
        "samsung_exclusive": {
          "type": "boolean",
          "description": "Whether this variable is for Samsung Ultra exclusive features"
        }
      }
    },
    "template": {
      "type": "object",
      "required": ["pattern", "generate"],
      "properties": {
        "pattern": {
          "type": "string",
          "description": "Glob pattern for matching secret names"
        },
        "generate": {
          "type": "string",
          "enum": ["uuid_v4", "secure_random_32", "jwt_style"],
          "description": "Generation method for matching secrets"
        },
        "prefix": {
          "type": "string",
          "description": "Prefix to add to generated values"
        },
        "charset": {
          "type": "string",
          "enum": ["alphanumeric", "alphanumeric_symbols", "base64"],
          "description": "Character set for generation"
        },
        "issuer": {
          "type": "string",
          "description": "Issuer for JWT-style tokens"
        }
      }
    },
    "validation_rule": {
      "type": "object",
      "required": ["rule", "check"],
      "properties": {
        "rule": {
          "type": "string",
          "description": "Name of the validation rule"
        },
        "check": {
          "type": "string",
          "description": "Type of check to perform"
        },
        "terms": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Terms to check for (for term-based validation)"
        },
        "required_fields": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Required fields for validation"
        },
        "required_secrets": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Required secrets for validation"
        }
      }
    },
    "environment_sync": {
      "type": "object",
      "properties": {
        "copy_from": {
          "type": "string",
          "enum": ["secrets", "variables"],
          "description": "Source for copying values"
        },
        "include": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Patterns of items to include"
        },
        "exclude": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Patterns of items to exclude"
        },
        "iron_rule_compliant": {
          "type": "boolean",
          "description": "Ensure Iron Rule Framework compliance"
        },
        "require_rhodium_verification": {
          "type": "boolean",
          "description": "Require rhodium collateral verification"
        }
      }
    },
    "compliance_check": {
      "type": "object",
      "required": ["check", "frequency"],
      "properties": {
        "check": {
          "type": "string",
          "description": "Name of the compliance check"
        },
        "frequency": {
          "type": "string",
          "enum": ["on_push", "daily", "weekly", "monthly", "continuous"],
          "description": "How often to run the check"
        },
        "remediation": {
          "type": "string",
          "enum": ["auto_fix", "manual", "notify_only"],
          "description": "Remediation strategy"
        },
        "threshold": {
          "type": "string",
          "description": "Threshold for triggering the check"
        },
        "samsung_exclusive": {
          "type": "boolean",
          "description": "Samsung Ultra exclusive check"
        },
        "native_blocking": {
          "type": "boolean",
          "description": "Use native blocking mode"
        },
        "saqqara_giza_score": {
          "type": "string",
          "description": "Required Saqqara-Giza alignment score"
        }
      }
    },
    "notification_channel": {
      "type": "object",
      "required": ["type", "events"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["slack", "email", "github_issue", "webhook"],
          "description": "Type of notification channel"
        },
        "webhook_secret": {
          "type": "string",
          "description": "Secret containing webhook URL"
        },
        "recipients": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "email"
          },
          "description": "Email recipients"
        },
        "labels": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "GitHub issue labels"
        },
        "events": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "secret_created",
              "secret_updated",
              "secret_rotated",
              "compliance_violation",
              "iron_rule_violation",
              "rhodium_threshold_breach",
              "compliance_failure",
              "security_audit_failure"
            ]
          },
          "description": "Events that trigger notifications"
        }
      }
    },
    "notification_template": {
      "type": "object",
      "required": ["title", "body"],
      "properties": {
        "title": {
          "type": "string",
          "description": "Notification title template"
        },
        "body": {
          "type": "string",
          "description": "Notification body template with placeholders"
        }
      }
    }
  }
}